node:internal/child_process/serialization:159
    const string = JSONStringify(message) + '\n';
                   ^

TypeError: Converting circular structure to JSON
    --> starting at object with constructor 'Object'
    |     property 'socket' -> object with constructor 'Object'
    --- property '_httpMessage' closes the circle
    at stringify (<anonymous>)
    at writeChannelMessage (node:internal/child_process/serialization:159:20)
    at process.target._send (node:internal/child_process:838:17)
    at process.target.send (node:internal/child_process:738:19)
    at reportSuccess (F:\code\nodejs\onlyfans-clone\backend\node_modules\.pnpm\jest-worker@29.3.1\node_modules\jest-worker\build\workers\processChild.js:63:11)

Node.js v18.12.1
node:internal/child_process/serialization:159
    const string = JSONStringify(message) + '\n';
                   ^

TypeError: Converting circular structure to JSON
    --> starting at object with constructor 'Object'
    |     property 'socket' -> object with constructor 'Object'
    --- property '_httpMessage' closes the circle
    at stringify (<anonymous>)
    at writeChannelMessage (node:internal/child_process/serialization:159:20)
    at process.target._send (node:internal/child_process:838:17)
    at process.target.send (node:internal/child_process:738:19)
    at reportSuccess (F:\code\nodejs\onlyfans-clone\backend\node_modules\.pnpm\jest-worker@29.3.1\node_modules\jest-worker\build\workers\processChild.js:63:11)

Node.js v18.12.1
FAIL test/unit/classes/user.test.ts
  ● Console

    console.log
      [
        `Executing (default): call proc_account('{"process_type":2,"app_id":1,"platform":"web","type":"i1","ip_address":"127.0.0.1","email":"admin@admin.com","password":"123456"}'::json, 0::integer,''::character varying, ''::character varying)`,
        {
          plain: false,
          raw: true,
          logging: [Function (anonymous)],
          type: 'SELECT'
        }
      ]

      at Object.<anonymous>.exports.sequelize.sequelize_1.Sequelize.Object.assign.logging (src/databases/index.ts:16:69)

    console.log
      [
        `Executing (default): call proc_account('{"process_type":1,"app_id":1,"type":"i1","email":"admin@admin.com","password":"123456"}'::json, 0::integer,''::character varying, ''::character varying)`,
        {
          plain: false,
          raw: true,
          logging: [Function (anonymous)],
          type: 'SELECT'
        }
      ]

      at Object.<anonymous>.exports.sequelize.sequelize_1.Sequelize.Object.assign.logging (src/databases/index.ts:16:69)

    console.log
      [
        `Executing (default): call proc_account('{"process_type":1,"app_id":1,"type":"i1","email":"","password":"123456"}'::json, 0::integer,''::character varying, ''::character varying)`,
        {
          plain: false,
          raw: true,
          logging: [Function (anonymous)],
          type: 'SELECT'
        }
      ]

      at Object.<anonymous>.exports.sequelize.sequelize_1.Sequelize.Object.assign.logging (src/databases/index.ts:16:69)

    console.log
      [
        `Executing (default): call proc_account('{"process_type":1,"app_id":0,"type":"i1","email":"admin@admin.com","password":"123456"}'::json, 0::integer,''::character varying, ''::character varying)`,
        {
          plain: false,
          raw: true,
          logging: [Function (anonymous)],
          type: 'SELECT'
        }
      ]

      at Object.<anonymous>.exports.sequelize.sequelize_1.Sequelize.Object.assign.logging (src/databases/index.ts:16:69)

    console.log
      [
        `Executing (default): call proc_account('{"process_type":1,"app_id":1,"type":"i1","email":"admin@admin.com","password":""}'::json, 0::integer,''::character varying, ''::character varying)`,
        {
          plain: false,
          raw: true,
          logging: [Function (anonymous)],
          type: 'SELECT'
        }
      ]

      at Object.<anonymous>.exports.sequelize.sequelize_1.Sequelize.Object.assign.logging (src/databases/index.ts:16:69)

  ● Test User classes › Test function registerEmail()

    expect(received).toBe(expected) // Object.is equality

    Expected: 1101
    Received: 502

      25 |       password: "123456",
      26 |     });
    > 27 |     expect(result.dno).toBe(1101);
         |                        ^
      28 |   });
      29 |
      30 |   it("Test function loginEmail()", async () => {

      at Object.<anonymous> (test/unit/classes/user.test.ts:27:24)

node:internal/child_process/serialization:159
    const string = JSONStringify(message) + '\n';
                   ^

TypeError: Converting circular structure to JSON
    --> starting at object with constructor 'Object'
    |     property 'socket' -> object with constructor 'Object'
    --- property '_httpMessage' closes the circle
    at stringify (<anonymous>)
    at writeChannelMessage (node:internal/child_process/serialization:159:20)
    at process.target._send (node:internal/child_process:838:17)
    at process.target.send (node:internal/child_process:738:19)
    at reportSuccess (F:\code\nodejs\onlyfans-clone\backend\node_modules\.pnpm\jest-worker@29.3.1\node_modules\jest-worker\build\workers\processChild.js:63:11)

Node.js v18.12.1
node:internal/child_process/serialization:159
    const string = JSONStringify(message) + '\n';
                   ^

TypeError: Converting circular structure to JSON
    --> starting at object with constructor 'Object'
    |     property 'socket' -> object with constructor 'Object'
    --- property '_httpMessage' closes the circle
    at stringify (<anonymous>)
    at writeChannelMessage (node:internal/child_process/serialization:159:20)
    at process.target._send (node:internal/child_process:838:17)
    at process.target.send (node:internal/child_process:738:19)
    at reportSuccess (F:\code\nodejs\onlyfans-clone\backend\node_modules\.pnpm\jest-worker@29.3.1\node_modules\jest-worker\build\workers\processChild.js:63:11)

Node.js v18.12.1
node:internal/child_process/serialization:159
    const string = JSONStringify(message) + '\n';
                   ^

TypeError: Converting circular structure to JSON
    --> starting at object with constructor 'Object'
    |     property 'socket' -> object with constructor 'Object'
    --- property '_httpMessage' closes the circle
    at stringify (<anonymous>)
    at writeChannelMessage (node:internal/child_process/serialization:159:20)
    at process.target._send (node:internal/child_process:838:17)
    at process.target.send (node:internal/child_process:738:19)
    at reportSuccess (F:\code\nodejs\onlyfans-clone\backend\node_modules\.pnpm\jest-worker@29.3.1\node_modules\jest-worker\build\workers\processChild.js:63:11)

Node.js v18.12.1
node:internal/child_process/serialization:159
    const string = JSONStringify(message) + '\n';
                   ^

TypeError: Converting circular structure to JSON
    --> starting at object with constructor 'Object'
    |     property 'socket' -> object with constructor 'Object'
    --- property '_httpMessage' closes the circle
    at stringify (<anonymous>)
    at writeChannelMessage (node:internal/child_process/serialization:159:20)
    at process.target._send (node:internal/child_process:838:17)
    at process.target.send (node:internal/child_process:738:19)
    at reportSuccess (F:\code\nodejs\onlyfans-clone\backend\node_modules\.pnpm\jest-worker@29.3.1\node_modules\jest-worker\build\workers\processChild.js:63:11)

Node.js v18.12.1
node:internal/child_process/serialization:159
    const string = JSONStringify(message) + '\n';
                   ^

TypeError: Converting circular structure to JSON
    --> starting at object with constructor 'Object'
    |     property 'socket' -> object with constructor 'Object'
    --- property '_httpMessage' closes the circle
    at stringify (<anonymous>)
    at writeChannelMessage (node:internal/child_process/serialization:159:20)
    at process.target._send (node:internal/child_process:838:17)
    at process.target.send (node:internal/child_process:738:19)
    at reportSuccess (F:\code\nodejs\onlyfans-clone\backend\node_modules\.pnpm\jest-worker@29.3.1\node_modules\jest-worker\build\workers\processChild.js:63:11)

Node.js v18.12.1
node:internal/child_process/serialization:159
    const string = JSONStringify(message) + '\n';
                   ^

TypeError: Converting circular structure to JSON
    --> starting at object with constructor 'Object'
    |     property 'socket' -> object with constructor 'Object'
    --- property '_httpMessage' closes the circle
    at stringify (<anonymous>)
    at writeChannelMessage (node:internal/child_process/serialization:159:20)
    at process.target._send (node:internal/child_process:838:17)
    at process.target.send (node:internal/child_process:738:19)
    at reportSuccess (F:\code\nodejs\onlyfans-clone\backend\node_modules\.pnpm\jest-worker@29.3.1\node_modules\jest-worker\build\workers\processChild.js:63:11)

Node.js v18.12.1
FAIL test/api/register.test.ts
  ● Test suite failed to run

    Jest worker encountered 4 child process exceptions, exceeding retry limit

      at ChildProcessWorker.initialize (node_modules/.pnpm/jest-worker@29.3.1/node_modules/jest-worker/build/workers/ChildProcessWorker.js:181:21)

FAIL test/api/login.test.ts
  ● Test suite failed to run

    Jest worker encountered 4 child process exceptions, exceeding retry limit

      at ChildProcessWorker.initialize (node_modules/.pnpm/jest-worker@29.3.1/node_modules/jest-worker/build/workers/ChildProcessWorker.js:181:21)

A worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks. Active timers can also cause this, ensure that .unref() was called on them.
Test Suites: 3 failed, 3 total
Tests:       1 failed, 2 passed, 3 total
Snapshots:   0 total
Time:        8.434 s
Ran all test suites.
